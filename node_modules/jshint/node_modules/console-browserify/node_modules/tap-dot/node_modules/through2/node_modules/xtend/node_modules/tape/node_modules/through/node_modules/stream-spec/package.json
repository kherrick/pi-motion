{
  "name": "stream-spec",
  "version": "0.3.5",
  "description": "executable specification for Stream (to make testing streams easy)",
  "main": "index.js",
  "scripts": {
    "test": "node test/writable.js; node test/readable.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/dominictarr/stream-spec.git"
  },
  "keywords": [
    "stream",
    "spec",
    "specification",
    "streams",
    "test"
  ],
  "dependencies": {
    "macgyver": "~1.10"
  },
  "author": {
    "name": "Dominic Tarr"
  },
  "license": [
    "MIT",
    "Apache2"
  ],
  "readme": "# StreamSpec\n\nAutomatic checking of the Stream implementations.\n`stream-spec` instruments your stream to verify that it has correct behaviour.\nAll you need to do to test a stream is to wrap it with `stream-spec`, and then pipe\nsome test data through it.\nit's purpose it to make it easy to test user-land streams have correct behavour.\n\ncorrect stream behaviour [illustrated](https://github.com/dominictarr/stream-spec/blob/master/states.markdown)  \n\ncorrect stream behaviour [explained](https://github.com/dominictarr/stream-spec/blob/master/stream_spec.md)  \n\nstream api design [style](https://github.com/dominictarr/stream-spec/blob/master/api-style.markdown) \n\n## a simple test\n\nusing [stream-tester](https://github.com/dominictarr/stream-tester) \n\n``` js\nvar spec = require('stream-spec')\nvar tester = require('stream-tester')\n\nspec(stream)\n  .through({strict: true})\n  .validateOnExit()\n\ntester.createRandomStream(function () {\n    return 'line ' + Math.random() + '\\n'\n  }, 1000)\n  .pipe(stream)\n  .pipe(tester.createPauseStream())\n\n```\n\nsend 1000 random lines through the stream and check that\nit buffers on pause.\n\n## types of `Stream`\n\n### Writable (but not readable)\n\na `WritableStream` must implement `write`, `end`, `destroy` and emit `'drain'` if it pauses,\nand `'close'` after the stream ends, or is destroyed.\n\nIf the stream is sync (does no io) it probably does not need to pause, so the `write()` should never equal `false`\n\n``` js\nspec(stream)\n  .writable()\n  .drainable()\n  .validateOnExit()\n```\n\n### Readable (but not writable)\n\na `ReadableStream` must emit `'data'`, `'end'`, and implement `destroy`,\nand `'close'` after the stream ends, or is destroyed.\nis strongly recommended to implement `pause` and `resume`\n\nIf the option `{strict: true}` is passed, it means the stream is not allowed to emit\n`'data'` or `'end'` when the stream is paused.\n\nIf the option `{end: false}` is passed, then end may not be emitted.\n\n``` js\nspec(stream)\n  .readable()\n  .pausable({strict: true})) //strict is optional.\n  .validateOnExit()\n```\n\n### Through (sync writable and readable, aka: 'filter')\n\nA `Stream` that is both readable and writable, and where the input is processed and then emitted as output, more or less directly. \nExample, [zlib](http://nodejs.org/api/zlib.html). contrast this with duplex stream.\n\nwhen you call `pause()` on a `ThroughStream`, it should change it into a paused state on the writable side also,\nand `write()===false`. Calling `resume()` should cause `'drain'` to be emitted eventually.\n\nIf the option `{strict: true}` is passed, it means the stream is not allowed to emit\n`'data'` or `'end'` when the stream is paused.\n\n``` js\nspec(stream)\n  .through({strict: true}) //strict is optional. \n  .validateOnExit()\n```\n\n### Duplex\n\nA `Stream` that is both readable and writable, but the streams go off to some other place or thing,\nand are not coupled directly. The readable and writable side of a `DuplexStream` has thier own pause state.\n\nIf the option `{strict: true}` is passed, it means the stream is not allowed to emit\n`'data'` or `'end'` when the stream is paused.\n\n``` js\nspec(stream)\n  .duplex({strict: true})\n  .validateOnExit()\n```\n\n### other options\n\n``` js\nspec(stream, name) //use name as the name of the stream in error messages.\n\nspec(stream, {\n  name: name,   //same as above.\n  strict: true, //'data' nor 'end' may be emitted when paused.\n  error: true,  //this stream *must* error.\n  error: false, //this stream *must not* error.\n                //if neither error: boolean option is passed, the stream *may* error.\n  })\n\n\n\n```\n",
  "readmeFilename": "readme.markdown",
  "_id": "stream-spec@0.3.5",
  "dist": {
    "shasum": "22a61cc92f9e6d32e414724ad171b57ffd188022",
    "tarball": "http://registry.npmjs.org/stream-spec/-/stream-spec-0.3.5.tgz"
  },
  "_from": "stream-spec@>=0.3.5 <0.4.0",
  "_npmVersion": "1.2.3",
  "_npmUser": {
    "name": "dominictarr",
    "email": "dominic.tarr@gmail.com"
  },
  "maintainers": [
    {
      "name": "dominictarr",
      "email": "dominic.tarr@gmail.com"
    }
  ],
  "directories": {},
  "_shasum": "22a61cc92f9e6d32e414724ad171b57ffd188022",
  "_resolved": "https://registry.npmjs.org/stream-spec/-/stream-spec-0.3.5.tgz",
  "bugs": {
    "url": "https://github.com/dominictarr/stream-spec/issues"
  },
  "homepage": "https://github.com/dominictarr/stream-spec"
}
